(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{40466:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return a(87458)}])},87458:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Create}});var n=a(85893),r=a(67294),s=a(11163);function Create(){let e=(0,s.useRouter)(),[t,a]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[u,d]=(0,r.useState)(null),[l,c]=(0,r.useState)("");async function submit(a){a.preventDefault();let n=await fetch("".concat("https://ediary-management-system-production-ed2f.up.railway.app","/entries"),{method:"POST",credentials:"include",headers:{ContentType:"application/json"},body:JSON.stringify({title:t,content:i})});if(!n.ok){c("Error creating");return}let r=await n.json();if(u){let e=new FormData;e.append("entry_id",r.id),e.append("file",u),await fetch("".concat("https://ediary-management-system-production-ed2f.up.railway.app","/attachments/upload"),{method:"POST",credentials:"include",body:e})}e.push("/dashboard")}return(0,n.jsxs)("main",{className:"max-w-2xl mx-auto mt-8 p-6 bg-white shadow rounded",children:[(0,n.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"New Entry"}),(0,n.jsxs)("form",{onSubmit:submit,className:"space-y-3",children:[(0,n.jsx)("input",{className:"w-full border rounded px-3 py-2",placeholder:"Title",value:t,onChange:e=>a(e.target.value)}),(0,n.jsx)("textarea",{className:"w-full border rounded px-3 py-2",placeholder:"Write your diary...",value:i,onChange:e=>o(e.target.value),rows:10}),(0,n.jsx)("input",{type:"file",onChange:e=>d(e.target.files[0])}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white   rounded hover:bg-indigo-700",children:"Create"})})]}),(0,n.jsx)("p",{className:"mt-3",children:l})]})}},11163:function(e,t,a){e.exports=a(59974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=40466)}),_N_E=e.O()}]);